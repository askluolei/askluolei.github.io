---
title: 移除元素
date: 2019-11-23 16:34:06
tags:
 - leetcode
 - 数组
categories: 
 - leetcode
---

## 问题
给定一个数组 `nums` 和一个值 `val`，你需要原地移除所有数值等于 `val` 的元素，返回移除后数组的新长度。

不要使用额外的数组空间，你必须在原地修改输入数组并在使用 `O(1)` 额外空间的条件下完成。

元素的顺序可以改变。你不需要考虑数组中超出新长度后面的元素。

*示例1*
```
给定 nums = [3,2,2,3], val = 3,

函数应该返回新的长度 2, 并且 nums 中的前两个元素均为 2。

你不需要考虑数组中超出新长度后面的元素。
```

*示例2*
```
给定 nums = [0,1,2,2,3,0,4,2], val = 2,

函数应该返回新的长度 5, 并且 nums 中的前五个元素为 0, 1, 3, 0, 4。

注意这五个元素可为任意顺序。

你不需要考虑数组中超出新长度后面的元素。

```

首先，理解一下题目，最后想要的结果，是数组中 `!= val` 的数量，并且，这些数需要被挪到数组前面，不管顺序  
过程条件,额外空间为 `O(1)`,那就是不能使用额外数组空间了 

## 提交

### 思路1
快慢指针，慢指针用来记录最后结果存储的下标，快指针遍历原数组  
```golang
func removeElement(nums []int, val int) int {
	// 快慢双指针，i 为填充数组的坐标，j 遍历原数组
	// 当不等于 val 当时候，保留， == val 当时候 j++ 了后面保留在 i 的位置
	// 这里问题在于，如果 nums 全不同，实际上，会有很多无效的赋值操作
	i := 0
	len := len(nums)
	for j:=0; j < len; j++ {
		if nums[j] != val {
			nums[i] = nums[j]
			i++
		}
	}
	return i
}
```

### 思路2
将 `== val` 的数丢到数组后面就行了  
```golang
func removeElement(nums []int, val int) int {
	// 理解题目，其实就是将 != val 的数挪到前面去，那我们把 == val 的丢到数组最后就行了
	i := 0
	n := len(nums)
	for ; i < n; {
		if nums[i] == val {
			nums[i] = nums[n - 1]
			n--
		} else {
			i++
		}
	}
	return n
}
```
